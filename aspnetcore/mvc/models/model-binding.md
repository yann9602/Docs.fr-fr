---
title: "Liaison de modèle"
author: rick-anderson
description: 
keywords: ASP.NET Core,
ms.author: riande
manager: wpickett
ms.date: 10/14/2016
ms.topic: article
ms.assetid: b355a48e-a15c-4d58-b69c-899763613a97
ms.technology: aspnet
ms.prod: asp.net-core
uid: mvc/models/model-binding
ms.openlocfilehash: 930ea062ffb914cbd4f1500308b813167c1f601b
ms.sourcegitcommit: 0b6c8e6d81d2b3c161cd375036eecbace46a9707
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/11/2017
---
# <a name="model-binding"></a><span data-ttu-id="04a69-103">Liaison de modèle</span><span class="sxs-lookup"><span data-stu-id="04a69-103">Model Binding</span></span>

<span data-ttu-id="04a69-104">Par [Rachel Appel](http://github.com/rachelappel)</span><span class="sxs-lookup"><span data-stu-id="04a69-104">By [Rachel Appel](http://github.com/rachelappel)</span></span>

## <a name="introduction-to-model-binding"></a><span data-ttu-id="04a69-105">Introduction à la liaison de modèle</span><span class="sxs-lookup"><span data-stu-id="04a69-105">Introduction to model binding</span></span>

<span data-ttu-id="04a69-106">Liaison de modèle dans ASP.NET MVC de base mappe les données de requêtes HTTP aux paramètres de méthode d’action.</span><span class="sxs-lookup"><span data-stu-id="04a69-106">Model binding in ASP.NET Core MVC maps data from HTTP requests to action method parameters.</span></span> <span data-ttu-id="04a69-107">Les paramètres peuvent être des types simples tels que des chaînes, des entiers ou des nombres à virgule flottante, ou ils peuvent être des types complexes.</span><span class="sxs-lookup"><span data-stu-id="04a69-107">The parameters may be simple types such as strings, integers, or floats, or they may be complex types.</span></span> <span data-ttu-id="04a69-108">Il s’agit d’une fonctionnalité intéressante de MVC, car le mappage des données entrantes et son homologue est un scénario souvent répété, quelle que soit la taille ou la complexité des données.</span><span class="sxs-lookup"><span data-stu-id="04a69-108">This is a great feature of MVC because mapping incoming data to a counterpart is an often repeated scenario, regardless of size or complexity of the data.</span></span> <span data-ttu-id="04a69-109">MVC résout ce problème en faisant abstraction liaison afin que les développeurs ne doivent conserver réécriture d’une version légèrement différente de ce même code dans chaque application.</span><span class="sxs-lookup"><span data-stu-id="04a69-109">MVC solves this problem by abstracting binding away so developers don't have to keep rewriting a slightly different version of that same code in every app.</span></span> <span data-ttu-id="04a69-110">L’écriture de votre propre texte pour le code de convertisseur de type est fastidieux et sujet aux erreurs.</span><span class="sxs-lookup"><span data-stu-id="04a69-110">Writing your own text to type converter code is tedious, and error prone.</span></span>

## <a name="how-model-binding-works"></a><span data-ttu-id="04a69-111">Fonctionne de la liaison de modèle</span><span class="sxs-lookup"><span data-stu-id="04a69-111">How model binding works</span></span>

<span data-ttu-id="04a69-112">Lorsque MVC reçoit une requête HTTP, il achemine vers une méthode d’action spécifique d’un contrôleur.</span><span class="sxs-lookup"><span data-stu-id="04a69-112">When MVC receives an HTTP request, it routes it to a specific action method of a controller.</span></span> <span data-ttu-id="04a69-113">Il détermine la méthode d’action à exécuter en fonction de ce qui est dans les données d’itinéraire, puis elle lie les valeurs de la requête HTTP pour les paramètres de cette méthode d’action.</span><span class="sxs-lookup"><span data-stu-id="04a69-113">It determines which action method to run based on what is in the route data, then it binds values from the HTTP request to that action method's parameters.</span></span> <span data-ttu-id="04a69-114">Par exemple, considérez l’URL suivante :</span><span class="sxs-lookup"><span data-stu-id="04a69-114">For example, consider the following URL:</span></span>

`http://contoso.com/movies/edit/2`

<span data-ttu-id="04a69-115">Étant donné que le modèle d’itinéraire ressemble à ceci, `{controller=Home}/{action=Index}/{id?}`, `movies/edit/2` achemine vers le `Movies` contrôleur et son `Edit` méthode d’action.</span><span class="sxs-lookup"><span data-stu-id="04a69-115">Since the route template looks like this, `{controller=Home}/{action=Index}/{id?}`, `movies/edit/2` routes to the `Movies` controller, and its `Edit` action method.</span></span> <span data-ttu-id="04a69-116">Elle accepte également un paramètre facultatif, appelé `id`.</span><span class="sxs-lookup"><span data-stu-id="04a69-116">It also accepts an optional parameter called `id`.</span></span> <span data-ttu-id="04a69-117">Le code de la méthode d’action doit ressembler à ceci :</span><span class="sxs-lookup"><span data-stu-id="04a69-117">The code for the action method should look something like this:</span></span>

<!-- literal_block {"ids": [], "linenos": true, "xml:space": "preserve", "language": "csharp"} -->

```csharp
public IActionResult Edit(int? id)
   ```

<span data-ttu-id="04a69-118">Remarque : Les chaînes dans l’itinéraire d’URL ne sont pas respecter la casse.</span><span class="sxs-lookup"><span data-stu-id="04a69-118">Note: The strings in the URL route are not case sensitive.</span></span>

<span data-ttu-id="04a69-119">MVC tente de se lier des données de la demande pour les paramètres d’action par nom.</span><span class="sxs-lookup"><span data-stu-id="04a69-119">MVC will try to bind request data to the action parameters by name.</span></span> <span data-ttu-id="04a69-120">MVC recherchera des valeurs pour chaque paramètre à l’aide du nom du paramètre et les noms de ses propriétés définissables publiques.</span><span class="sxs-lookup"><span data-stu-id="04a69-120">MVC will look for values for each parameter using the parameter name and the names of its public settable properties.</span></span> <span data-ttu-id="04a69-121">Dans l’exemple ci-dessus, le paramètre de la seule action est nommé `id`, lequel MVC lie à la valeur portant le même nom dans les valeurs d’itinéraire.</span><span class="sxs-lookup"><span data-stu-id="04a69-121">In the above example, the only action parameter is named `id`, which MVC binds to the value with the same name in the route values.</span></span> <span data-ttu-id="04a69-122">En plus des valeurs d’itinéraire MVC lier des données à partir de différentes parties de la demande et il le fait dans un ordre bien défini.</span><span class="sxs-lookup"><span data-stu-id="04a69-122">In addition to route values MVC will bind data from various parts of the request and it does so in a set order.</span></span> <span data-ttu-id="04a69-123">Voici une liste des sources de données dans l’ordre de liaison de modèle recherche dans les :</span><span class="sxs-lookup"><span data-stu-id="04a69-123">Below is a list of the data sources in the order that model binding looks through them:</span></span>

1. <span data-ttu-id="04a69-124">`Form values`: Ce sont des valeurs de formulaire qui vont dans la requête HTTP à l’aide de la méthode POST.</span><span class="sxs-lookup"><span data-stu-id="04a69-124">`Form values`: These are form values that go in the HTTP request using the POST method.</span></span> <span data-ttu-id="04a69-125">(y compris les requêtes POST jQuery).</span><span class="sxs-lookup"><span data-stu-id="04a69-125">(including jQuery POST requests).</span></span>

2. <span data-ttu-id="04a69-126">`Route values`: Le jeu de valeurs d’itinéraire fourni par [routage](../../fundamentals/routing.md)</span><span class="sxs-lookup"><span data-stu-id="04a69-126">`Route values`: The set of route values provided by [Routing](../../fundamentals/routing.md)</span></span>

3. <span data-ttu-id="04a69-127">`Query strings`: La partie de chaîne de requête de l’URI.</span><span class="sxs-lookup"><span data-stu-id="04a69-127">`Query strings`: The query string part of the URI.</span></span>

<!-- DocFX BUG
The link works but generates an error when building with DocFX
@fundamentals/routing
[Routing](xref:fundamentals/routing)
-->

<span data-ttu-id="04a69-128">Remarque : Écran de valeurs, les données d’itinéraire et toutes les chaînes sont stockées en tant que paires nom-valeur de requête.</span><span class="sxs-lookup"><span data-stu-id="04a69-128">Note: Form values, route data, and query strings are all stored as name-value pairs.</span></span>

<span data-ttu-id="04a69-129">Étant donné que la liaison de modèle invité à entrer une clé nommée `id` et aucun élément nommé `id` dans les valeurs de formulaire, il déplacées sur les valeurs d’itinéraire recherchez cette clé.</span><span class="sxs-lookup"><span data-stu-id="04a69-129">Since model binding asked for a key named `id` and there is nothing named `id` in the form values, it moved on to the route values looking for that key.</span></span> <span data-ttu-id="04a69-130">Dans notre exemple, il est une correspondance.</span><span class="sxs-lookup"><span data-stu-id="04a69-130">In our example, it's a match.</span></span> <span data-ttu-id="04a69-131">Liaison se produit, et la valeur est convertie à l’entier 2.</span><span class="sxs-lookup"><span data-stu-id="04a69-131">Binding happens, and the value is converted to the integer 2.</span></span> <span data-ttu-id="04a69-132">La même demande à l’aide de l’édition (id de chaîne) permet de convertir l’à la chaîne « 2 ».</span><span class="sxs-lookup"><span data-stu-id="04a69-132">The same request using Edit(string id) would convert to the string "2".</span></span>

<span data-ttu-id="04a69-133">Jusqu'à présent, l’exemple utilise des types simples.</span><span class="sxs-lookup"><span data-stu-id="04a69-133">So far the example uses simple types.</span></span> <span data-ttu-id="04a69-134">Dans MVC types simples sont tout type de primitive .NET ou avec un convertisseur de type chaîne.</span><span class="sxs-lookup"><span data-stu-id="04a69-134">In MVC simple types are any .NET primitive type or type with a string type converter.</span></span> <span data-ttu-id="04a69-135">Si le paramètre de la méthode d’action agissait une classe comme le `Movie` type, qui contient des types simples et complexes tels que les propriétés, modèle liaison continueront de MVC gérer correctement.</span><span class="sxs-lookup"><span data-stu-id="04a69-135">If the action method's parameter were a class such as the `Movie` type, which contains both simple and complex types as properties, MVC's model binding will still handle it nicely.</span></span> <span data-ttu-id="04a69-136">Il utilise la réflexion et récurrence pour parcourir les propriétés de recherche de correspondances de types complexes.</span><span class="sxs-lookup"><span data-stu-id="04a69-136">It uses reflection and recursion to traverse the properties of complex types looking for matches.</span></span> <span data-ttu-id="04a69-137">Liaison de modèle recherche le modèle *parameter_name.property_name* pour lier des valeurs aux propriétés.</span><span class="sxs-lookup"><span data-stu-id="04a69-137">Model binding looks for the pattern *parameter_name.property_name* to bind values to properties.</span></span> <span data-ttu-id="04a69-138">S’il ne trouve pas les valeurs correspondantes de ce formulaire, il va tenter de lier à l’aide de simplement le nom de propriété.</span><span class="sxs-lookup"><span data-stu-id="04a69-138">If it doesn't find matching values of this form, it will attempt to bind using just the property name.</span></span> <span data-ttu-id="04a69-139">Pour ces types, tels que `Collection` , types de liaison de modèle de recherche des correspondances à *nom_paramètre [index]* ou simplement *[index]*.</span><span class="sxs-lookup"><span data-stu-id="04a69-139">For those types such as `Collection` types, model binding looks for matches to *parameter_name[index]* or just *[index]*.</span></span> <span data-ttu-id="04a69-140">Traite de la liaison de modèle `Dictionary` les types de la même façon, lui demandant de *nom_paramètre [clé]* ou simplement *[clé]*, à condition que les clés sont des types simples.</span><span class="sxs-lookup"><span data-stu-id="04a69-140">Model binding treats  `Dictionary` types similarly, asking for *parameter_name[key]* or just *[key]*, as long as the keys are simple types.</span></span> <span data-ttu-id="04a69-141">Clés qui sont prises en charge correspondent aux noms de champ HTML et programmes d’assistance de balise générés pour le même type de modèle.</span><span class="sxs-lookup"><span data-stu-id="04a69-141">Keys that are supported match the field names HTML and tag helpers generated for the same model type.</span></span> <span data-ttu-id="04a69-142">Ainsi, les valeurs aller-retour afin que les champs de formulaire restent remplis avec l’entrée d’utilisateur pour leur faciliter la tâche, par exemple, lorsque les données liées à partir d’une création ou la modification n’a pas réussi la validation.</span><span class="sxs-lookup"><span data-stu-id="04a69-142">This enables round-tripping values so that the form fields remain filled with the user's input for their convenience, for example, when bound data from a create or edit did not pass validation.</span></span>

<span data-ttu-id="04a69-143">Dans l’ordre de liaison doit se produire la classe doit avoir un constructeur public par défaut et les membres d’être lié doivent être publiques propriétés accessibles en écriture.</span><span class="sxs-lookup"><span data-stu-id="04a69-143">In order for binding to happen the class must have a public default constructor and member to be bound must be public writable properties.</span></span> <span data-ttu-id="04a69-144">Lors de la liaison de modèle se produit, que la classe sera uniquement être instanciée en utilisant le constructeur public par défaut, les propriétés peuvent être définies.</span><span class="sxs-lookup"><span data-stu-id="04a69-144">When model binding happens the class will only be instantiated using the public default constructor, then the properties can be set.</span></span>

<span data-ttu-id="04a69-145">Lorsqu’un paramètre est lié, liaison de modèle arrête la recherche de valeurs portant ce nom et elle passe à lier le paramètre suivant.</span><span class="sxs-lookup"><span data-stu-id="04a69-145">When a parameter is bound, model binding stops looking for values with that name and it moves on to bind the next parameter.</span></span> <span data-ttu-id="04a69-146">Si la liaison échoue, MVC ne lève pas une erreur.</span><span class="sxs-lookup"><span data-stu-id="04a69-146">If binding fails, MVC does not throw an error.</span></span> <span data-ttu-id="04a69-147">Vous pouvez rechercher les erreurs de modèle d’état en vérifiant la `ModelState.IsValid` propriété.</span><span class="sxs-lookup"><span data-stu-id="04a69-147">You can query for model state errors by checking the `ModelState.IsValid` property.</span></span>

<span data-ttu-id="04a69-148">Remarque : Chaque entrée dans le contrôleur de `ModelState` propriété est un `ModelStateEntry` contenant un `Errors property`.</span><span class="sxs-lookup"><span data-stu-id="04a69-148">Note: Each entry in the controller's `ModelState` property is a `ModelStateEntry` containing an `Errors property`.</span></span> <span data-ttu-id="04a69-149">Il est rarement nécessaire interroger cette collection vous-même.</span><span class="sxs-lookup"><span data-stu-id="04a69-149">It's rarely necessary to query this collection yourself.</span></span> <span data-ttu-id="04a69-150">Utilisez plutôt `ModelState.IsValid` .</span><span class="sxs-lookup"><span data-stu-id="04a69-150">Use `ModelState.IsValid` instead.</span></span>

<span data-ttu-id="04a69-151">En outre, il existe de certains types de données spéciaux que MVC doit prendre en compte lors de la liaison de modèle :</span><span class="sxs-lookup"><span data-stu-id="04a69-151">Additionally, there are some special data types that MVC must consider when performing model binding:</span></span>

* <span data-ttu-id="04a69-152">`IFormFile`, `IEnumerable<IFormFile>`: Un ou plusieurs fichiers téléchargés qui font partie de la requête HTTP.</span><span class="sxs-lookup"><span data-stu-id="04a69-152">`IFormFile`, `IEnumerable<IFormFile>`: One or more uploaded files that are part of the HTTP request.</span></span>

* <span data-ttu-id="04a69-153">`CancelationToken`: Utilisé pour annuler l’activité dans les contrôleurs asynchrones.</span><span class="sxs-lookup"><span data-stu-id="04a69-153">`CancelationToken`: Used to cancel activity in asynchronous controllers.</span></span>

<span data-ttu-id="04a69-154">Ces types peuvent être liés aux paramètres d’action ou à des propriétés sur un type de classe.</span><span class="sxs-lookup"><span data-stu-id="04a69-154">These types can be bound to action parameters or to properties on a class type.</span></span>

<span data-ttu-id="04a69-155">Une fois que la liaison de modèle est terminée, [Validation](validation.md) se produit.</span><span class="sxs-lookup"><span data-stu-id="04a69-155">Once model binding is complete, [Validation](validation.md) occurs.</span></span> <span data-ttu-id="04a69-156">Liaison de modèle par défaut fonctionne bien pour la majorité des scénarios de développement.</span><span class="sxs-lookup"><span data-stu-id="04a69-156">Default model binding works great for the vast majority of development scenarios.</span></span> <span data-ttu-id="04a69-157">Il est également extensible donc si vous avez des besoins spécifiques, vous pouvez personnaliser le comportement intégré.</span><span class="sxs-lookup"><span data-stu-id="04a69-157">It is also extensible so if you have unique needs you can customize the built-in behavior.</span></span>

## <a name="customize-model-binding-behavior-with-attributes"></a><span data-ttu-id="04a69-158">Personnaliser le comportement de liaison de modèle avec des attributs</span><span class="sxs-lookup"><span data-stu-id="04a69-158">Customize model binding behavior with attributes</span></span>

<span data-ttu-id="04a69-159">MVC contient plusieurs attributs que vous pouvez utiliser pour indiquer son comportement de liaison de modèle par défaut à une source différente.</span><span class="sxs-lookup"><span data-stu-id="04a69-159">MVC contains several attributes that you can use to direct its default model binding behavior to a different source.</span></span> <span data-ttu-id="04a69-160">Par exemple, vous pouvez spécifier si la liaison est requise pour une propriété, ou si elle doit jamais se produire à tout à l’aide de la `[BindRequired]` ou `[BindNever]` attributs.</span><span class="sxs-lookup"><span data-stu-id="04a69-160">For example, you can specify whether binding is required for a property, or if it should never happen at all by using the `[BindRequired]` or `[BindNever]` attributes.</span></span> <span data-ttu-id="04a69-161">Vous pouvez également remplacer la source de données par défaut et spécifier la source de données du classeur de modèles.</span><span class="sxs-lookup"><span data-stu-id="04a69-161">Alternatively, you can override the default data source, and specify the model binder's data source.</span></span> <span data-ttu-id="04a69-162">Vous trouverez ci-dessous la liste des attributs de liaison de modèle :</span><span class="sxs-lookup"><span data-stu-id="04a69-162">Below is a list of model binding attributes:</span></span>

* <span data-ttu-id="04a69-163">`[BindRequired]`: Cet attribut ajoute une erreur d’état de modèle si la liaison ne peut pas se produire.</span><span class="sxs-lookup"><span data-stu-id="04a69-163">`[BindRequired]`: This attribute adds a model state error if binding cannot occur.</span></span>

* <span data-ttu-id="04a69-164">`[BindNever]`: Indique le classeur de modèles jamais lier à ce paramètre.</span><span class="sxs-lookup"><span data-stu-id="04a69-164">`[BindNever]`: Tells the model binder to never bind to this parameter.</span></span>

* <span data-ttu-id="04a69-165">`[FromHeader]`, `[FromQuery]`, `[FromRoute]`, `[FromForm]`: Les utiliser pour spécifier la source de liaison exacte que vous souhaitez appliquer.</span><span class="sxs-lookup"><span data-stu-id="04a69-165">`[FromHeader]`, `[FromQuery]`, `[FromRoute]`, `[FromForm]`: Use these to specify the exact binding source you want to apply.</span></span>

* <span data-ttu-id="04a69-166">`[FromServices]`: Cet attribut utilise [injection de dépendance](../../fundamentals/dependency-injection.md) pour lier les paramètres à partir des services.</span><span class="sxs-lookup"><span data-stu-id="04a69-166">`[FromServices]`: This attribute uses [dependency injection](../../fundamentals/dependency-injection.md) to bind parameters from services.</span></span>

* <span data-ttu-id="04a69-167">`[FromBody]`: Utilisez les formateurs configurés pour lier des données à partir du corps de la demande.</span><span class="sxs-lookup"><span data-stu-id="04a69-167">`[FromBody]`: Use the configured formatters to bind data from the request body.</span></span> <span data-ttu-id="04a69-168">Le module de formatage est sélectionné selon le type de contenu de la demande.</span><span class="sxs-lookup"><span data-stu-id="04a69-168">The formatter is selected based on content type of the request.</span></span>

* <span data-ttu-id="04a69-169">`[ModelBinder]`: Utilisé pour remplacer le classeur de modèles par défaut, la source de liaison et le nom.</span><span class="sxs-lookup"><span data-stu-id="04a69-169">`[ModelBinder]`: Used to override the default model binder, binding source and name.</span></span>

<span data-ttu-id="04a69-170">Les attributs sont très utiles lorsque vous devez remplacer le comportement par défaut de la liaison de modèle.</span><span class="sxs-lookup"><span data-stu-id="04a69-170">Attributes are very helpful tools when you need to override the default behavior of model binding.</span></span>

## <a name="binding-formatted-data-from-the-request-body"></a><span data-ttu-id="04a69-171">Liaison de mise en forme des données à partir du corps de demande</span><span class="sxs-lookup"><span data-stu-id="04a69-171">Binding formatted data from the request body</span></span>

<span data-ttu-id="04a69-172">Dans divers formats, notamment JSON, XML et bien d’autres peuvent provenir de données de la demande.</span><span class="sxs-lookup"><span data-stu-id="04a69-172">Request data can come in a variety of formats including JSON, XML and many others.</span></span> <span data-ttu-id="04a69-173">Lorsque vous utilisez l’attribut [FromBody] pour indiquer que vous souhaitez lier un paramètre à des données dans le corps de la demande, MVC utilise un jeu de formateurs configuré pour gérer les données de la demande en fonction de son type de contenu.</span><span class="sxs-lookup"><span data-stu-id="04a69-173">When you use the [FromBody] attribute to indicate that you want to bind a parameter to data in the request body, MVC uses a configured set of formatters to handle the request data based on its content type.</span></span> <span data-ttu-id="04a69-174">Par défaut, MVC inclut un `JsonInputFormatter` de classe pour la gestion des données JSON, mais vous peuvent ajouter des formateurs supplémentaires pour la gestion de XML et autres formats personnalisés.</span><span class="sxs-lookup"><span data-stu-id="04a69-174">By default MVC includes a `JsonInputFormatter` class for handling JSON data, but you can add additional formatters for handling XML and other custom formats.</span></span>

> [!NOTE]
> <span data-ttu-id="04a69-175">Il peut y avoir au plus un paramètre par action décorée avec `[FromBody]`.</span><span class="sxs-lookup"><span data-stu-id="04a69-175">There can be at most one parameter per action decorated with `[FromBody]`.</span></span> <span data-ttu-id="04a69-176">La durée d’exécution ASP.NET MVC de base délègue la responsabilité de lire le flux de demande au formateur.</span><span class="sxs-lookup"><span data-stu-id="04a69-176">The ASP.NET Core MVC run-time delegates the responsibility of reading the request stream to the formatter.</span></span> <span data-ttu-id="04a69-177">Une fois que le flux de demande est en lecture pour un paramètre, il n’est généralement pas possible de lire le flux de demande de liaison des autres `[FromBody]` paramètres.</span><span class="sxs-lookup"><span data-stu-id="04a69-177">Once the request stream is read for a parameter, it's generally not possible to read the request stream again for binding other `[FromBody]` parameters.</span></span>

> [!NOTE]
> <span data-ttu-id="04a69-178">Le `JsonInputFormatter` est le formateur par défaut et est basée sur [Json.NET](http://www.newtonsoft.com/json).</span><span class="sxs-lookup"><span data-stu-id="04a69-178">The `JsonInputFormatter` is the default formatter and is based on [Json.NET](http://www.newtonsoft.com/json).</span></span>

<span data-ttu-id="04a69-179">ASP.NET sélectionne les formateurs d’entrée selon la [Content-Type](https://www.w3.org/Protocols/rfc1341/4_Content-Type.html) en-tête et le type du paramètre, sauf s’il existe un attribut appliqué en spécifiant dans le cas contraire.</span><span class="sxs-lookup"><span data-stu-id="04a69-179">ASP.NET selects input formatters based on the [Content-Type](https://www.w3.org/Protocols/rfc1341/4_Content-Type.html) header and the type of the parameter, unless there is an attribute applied to it specifying otherwise.</span></span> <span data-ttu-id="04a69-180">Si vous souhaitez utiliser des données XML ou un autre format vous devez le configurer dans le *Startup.cs* fichier, mais vous devrez peut-être d’abord avez obtenir une référence à `Microsoft.AspNetCore.Mvc.Formatters.Xml` à l’aide de NuGet.</span><span class="sxs-lookup"><span data-stu-id="04a69-180">If you'd like to use XML or another format you must configure it in the *Startup.cs* file, but you may first have to obtain a reference to `Microsoft.AspNetCore.Mvc.Formatters.Xml` using NuGet.</span></span> <span data-ttu-id="04a69-181">Votre code de démarrage doit ressembler à ceci :</span><span class="sxs-lookup"><span data-stu-id="04a69-181">Your startup code should look something like this:</span></span>

<!-- literal_block {"ids": [], "linenos": true, "xml:space": "preserve", "language": "csharp"} -->

```csharp
public void ConfigureServices(IServiceCollection services)
   {
       services.AddMvc()
          .AddXmlSerializerFormatters();
   }
   ```

<span data-ttu-id="04a69-182">Le code dans le *Startup.cs* fichier contient un `ConfigureServices` méthode avec un `services` argument, vous pouvez utiliser pour générer des services pour votre application ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="04a69-182">Code in the *Startup.cs* file contains a `ConfigureServices` method with a `services` argument you can use to build up services for your ASP.NET app.</span></span> <span data-ttu-id="04a69-183">Dans l’exemple, nous ajoutons un formateur XML en tant que service MVC fournit pour cette application.</span><span class="sxs-lookup"><span data-stu-id="04a69-183">In the sample, we are adding an XML formatter as a service that MVC will provide for this app.</span></span> <span data-ttu-id="04a69-184">Le `options` argument passé dans le `AddMvc` méthode permet d’ajouter et gérer des filtres, les formateurs et les autres options de système de MVC lors du démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="04a69-184">The `options` argument passed into the `AddMvc` method allows you to add and manage filters, formatters, and other system options from MVC upon app startup.</span></span> <span data-ttu-id="04a69-185">Puis appliquez le `Consumes` d’attributs pour les classes de contrôleur ou de méthodes d’action pour travailler avec le format souhaité.</span><span class="sxs-lookup"><span data-stu-id="04a69-185">Then apply the `Consumes` attribute to controller classes or action methods to work with the format you want.</span></span>

### <a name="custom-model-binding"></a><span data-ttu-id="04a69-186">Liaison de modèle personnalisé</span><span class="sxs-lookup"><span data-stu-id="04a69-186">Custom Model Binding</span></span>

<span data-ttu-id="04a69-187">Vous pouvez étendre la liaison de modèle en écrivant vos propres classeurs de modèles personnalisés.</span><span class="sxs-lookup"><span data-stu-id="04a69-187">You can extend model binding by writing your own custom model binders.</span></span> <span data-ttu-id="04a69-188">En savoir plus sur [liaison de modèle personnalisé](../advanced/custom-model-binding.md).</span><span class="sxs-lookup"><span data-stu-id="04a69-188">Learn more about [custom model binding](../advanced/custom-model-binding.md).</span></span>
